<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <%- include('../partials/headtag'); %>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous">
<title>Dejavu Tours Details</title>
</head>

<body class="bg-light text-dark">

    <h1>
        <center>
            <br>Dejavu Tours&Treks : Edit Trip</br>
        </center>
    </h1>


    <form name="myForm" onsubmit="return validateForm()" action="/admin/addeditedtours" method="POST" enctype="multipart/form-data">

        <input type="hidden" name="_csrf" value="<%= csrfToken %>">

        <input type="hidden" value="<%= trips._id %>" id="tripid" name="tripid">
        <div class="container-fluid">
            <div class="col-sm-6">
                <label for="TripName" class="form-label">Trip Name:-  <b>* Trip name must be unique</b></label>
                <!-- readonly -->
                <input type="text" class="form-control" name="name" id="name" placeholder="" value="<%= trips.name %>" required="">
            </div>
        </div>

        <div class="container-fluid">
            <div class="col-md-4">
                <label for="state" class="form-label">State</label>
                <select class="form-control select2" name="state" id="state"  data-placeholder="Select a State" style="width: 100%;" required="">
                    <option value="<%= trips.state %>" name="default" selected><%= trips.state %></option>
                        <% for (var i = 0; i < states_arr.length; i++) { %>
                            <option value="<%= states_arr[i] %>"><%= states_arr[i] %></option>
                        <% } %>
                </select>
           <!--     <select class="form-select" name="state" id="state" required="">
                    <option name="default" value="<%= trips.state %>"><%= trips.state %></option>
                    <option name="Gujarat" value="Gujarat">Gujarat</option>
                    <option name="Maharashtra" value="Maharashtra">Maharashtra</option>
                    <option name="Himalayan" value="Himalayan">Himalayan</option>
                    <option name="Rajasthan" value="Rajasthan">Rajasthan</option>
                    <option name="North-East" value="North-East">North-East</option>
                    <option name="South-India" value="South-India">South-India</option>
                </select> -->

            </div>
        </div>
        
        <div class="container-fluid">
            <div class="col-sm-6">
                <label for="imageurlmain" class="form-label">Image</label><br>
                <input type="file" accept="image/*" name="image" id="file" enctype="multipart/form-data">                               
            </div>
        </div>
        
        <div class="container-fluid">
            <div class="col-sm-6">
                <label for="Destinations" class="form-label">Destinations</label>
                <input type="text" class="form-control" name="destinations" id="destinations" placeholder="" value="<%= trips.destinations %>" required="">

            </div>
        </div>

        <div class="container-fluid">
            <div class="col-sm-6">
                <label for="Route" class="form-label">Route</label>
                <input type="text" class="form-control" name="route" id="route" placeholder="" value="<%= trips.route %>" required="">

            </div>
        </div>

        <div class="container-fluid">
            <div class="col-sm-6">
                <label for="Route" class="form-label">Days</label>
                <input type="text" class="form-control" name="days" id="days" placeholder="" value="<%= trips.days %>" required="">

            </div>
        </div>


        <div class="container-fluid">
            <div class="col-sm-6">
                <label for="TagLine" class="form-label">Tag Line</label>
                <input type="text" class="form-control" name="tag" id="tag" placeholder="" value="<%= trips.tag %>" required="">

            </div>
        </div>

        <div class="container-fluid">
            <div class="col-sm-6">
                <label for="Price" class="form-label">Price</label>
                <input type="text" class="form-control" name="price" id="price" placeholder="" value="<%= trips.price %>" required="">

            </div>
        </div>

        <div class="container-fluid">
            <div class="col-sm-6">
                <label for="About" class="form-label">About</label>
                <textarea class="form-control about" name="about" id="about" contenteditable="true"><%- trips.about %></textarea>
                <!-- <textarea row="5" type="text-area" class="form-control" name="about" id="about" placeholder="" value="" required=""><%- trips.about %> -->
                </textarea>
            </div>
        </div>

        <div class="container-fluid">
            <div class="col-sm-6">
                <label for="placestovisit" class="form-label">Places To Visit</label>
                <textarea class="form-control placestovisit" name="placestovisit" id="placestovisit" contenteditable="true"><%- trips.placestovisit %></textarea>
           <!--     <textarea row="5" type="text-area" class="form-control" name="placestovisit" id="placestovisit" placeholder="" value="" required=""><%- trips.placestovisit %>
                </textarea> -->
            </div>
        </div>

        <div class="container-fluid">
            <div class="col-sm-6">
                <label for="activities" class="form-label">Activities & Attraction</label>
                <textarea class="form-control activities" name="activities" id="activities" contenteditable="true"><%- trips.activities %></textarea>
            <!--    <textarea row="5" type="text-area" class="form-control" name="activities" id="activities" placeholder="" value=""
                    required=""><%- trips.activities %> -->
                </textarea>
            </div>
        </div>

        <div class="container-fluid">
            <div class="col-sm-6">
                <label for="itinerary" class="form-label">Itinerary</label>
                <textarea class="form-control itinerary" name="itinerary" id="itinerary" contenteditable="true"><%- trips.itinerary %></textarea>
              <!--  <textarea rows="5" type="text-area" class="form-control" name="itinerary" id="itinerary" placeholder="" value="" required=""><%- trips.itinerary %>
                </textarea> -->
            </div>
        </div>

        <div class="container-fluid">
            <div class="col-sm-6">
                <label for="things_to_carry" class="form-label">Things to Carry</label>
                <textarea class="form-control things_to_carry" name="things_to_carry" id="things_to_carry" contenteditable="true"><%- trips.things_to_carry %></textarea>
             <!--   <textarea rows="5" type="text-area" class="form-control" name="things_to_carry" id="things_to_carry" placeholder="" value="" required=""><%- trips.things_to_carry %>
                </textarea> -->
            </div>
        </div>

        <div class="container-fluid">
            <div class="col-sm-6">
                <label for="includenexclude" class="form-label">Include & Exclude</label>
                <textarea class="form-control includenexclude" name="includenexclude" id="includenexclude" contenteditable="true"><%- trips.includenexclude %></textarea>
           <!--     <textarea rows="5" type="text-area" class="form-control" name="includenexclude" id="includenexclude" placeholder="" value="" required=""><%- trips.includenexclude %>
                </textarea> -->
            </div>
        </div>

        <div class="container-fluid">
            <div class="col-sm-6">
                <label for="package_cost" class="form-label">Package Cost</label>
                <textarea class="form-control package_cost" name="package_cost" id="package_cost" contenteditable="true"><%- trips.package_cost %></textarea>
            <!--    <textarea rows="5" type="text-area" class="form-control" name="package_cost" id="package_cost" placeholder="" value="" required=""><%- trips.package_cost %>
                </textarea> -->
            </div>
        </div>

        <div class="container-fluid">
            <div class="col-sm-6">
                <label for="infonfaq" class="form-label"> Info & FAQs</label>
                <textarea class="form-control infonfaq" name="infonfaq" id="infonfaq" contenteditable="true"><%- trips.infonfaq %></textarea>
             <!--   <textarea rows="5" type="text-area" class="form-control" name="infonfaq" id="infonfaq" placeholder="" value="" required=""><%- trips.infonfaq %>
                </textarea> -->
            </div>
        </div>


        <div class="container-fluid">
            <div class="col-sm-6">
                <label for="Bookncancel" class="form-label">Booking & Cancellation</label>
                <textarea class="form-control Bookncancel" name="Bookncancel" id="Bookncancel" contenteditable="true"><%- trips.Bookncancel %></textarea>
             <!--   <textarea rows="5" type="text-area" class="form-control" name="Bookncancel" id="Bookncancel" placeholder="" value="" required=""><%- trips.Bookncancel %>
                </textarea> -->
            </div>
        </div>

        <div class="container-fluid">
            <div class="col-sm-6">
                <label for="guidelines" class="form-label">Travel Guidelines</label>
                <textarea class="form-control guidelines" name="guidelines" id="guidelines" contenteditable="true"><%- trips.guidelines %></textarea>
              <!--  <textarea rows="5" type="text-area" class="form-control" name="guidelines" id="guidelines" placeholder="" value="" required=""><%- trips.guidelines %>
                </textarea> -->
            </div>
        </div>

        <div class="container-fluid">
            <div class="col-sm-6">
                <br>
                <center><button type="submit" class="btn btn-primary">Submit</button></center>
            
            </div>
        </div>
    
    </form>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="/vendor/jquery/jquery.min.js"></script>
    <script src="/vendor/select2/select2.min.js"></script>
    <script src="/js/jquery-te-1.4.0.min.js" charset="utf-8"></script>
</body>
<script>
    function validateForm() {
        var alltours = <%-JSON.stringify(alltrips) %> ;
        console.log(alltours);
      let x = document.forms["myForm"]["name"].value;
      if (alltours.includes(x)) {
        alert("Name must be unique");
        return false;
      }
    }
    $(document).ready(function(){
            $('.select2').select2();
            $('.about ,.guidelines, .Bookncancel,.infonfaq, .package_cost ,.includenexclude,.things_to_carry, .itinerary,.activities,.placestovisit').jqte();           
    });
</script>

</html>
